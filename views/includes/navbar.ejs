<style>
  .navbar { 
    position: fixed; top:0; width:100%; z-index:5000; 
    background:white; border-bottom:1px solid #ddd;
  }
  body { padding-top: 90px; }

  .search-input { border-radius:30px; padding:10px 20px; }
  .search-btn { background:#fe424d; color:white; border:none; border-radius:25px; padding:10px 22px; }

  /* LARGE SCREEN */
  @media(min-width:992px){
    .nav-desktop{
      display:grid; grid-template-columns:200px 1fr auto;
      align-items:center; padding:10px 25px; gap:20px;
    }
    .nav-mobile,.mobile-search,#mobileMenu{ display:none!important; }
  }

  /* SMALL SCREEN */
  @media(max-width:991px){
    .nav-desktop{ display:none; }
    .nav-mobile{
      display:flex; justify-content:space-between;
      padding:12px 15px;
    }
    .mobile-search{ padding:10px; }
    .mobile-search input{ width:100%; border-radius:30px; }
  }
</style>

<!-- DESKTOP NAV -->
<nav class="navbar nav-desktop">
  
  <!-- LEFT LOGO -->
  <a href="/listings" class="navbar-brand fw-bold">
    <i class="fa-solid fa-compass text-danger fs-4 me-2"></i> Explore
  </a>

  <!-- CENTER SEARCH -->
  <form class="d-flex mx-auto" action="/search">
    <input class="form-control search-input" name="q" placeholder="Search Destination">
    <button class="search-btn ms-2">
      <i class="fa-solid fa-magnifying-glass"></i>
    </button>
  </form>

  <!-- RIGHT MENU -->
  <div class="d-flex gap-4">
    <a class="nav-link fw-bold" href="/listings/new">Airbnb your home</a>

    <% if (!currUser) { %>
      <a class="nav-link fw-bold" href="/signup">Sign Up</a>
      <a class="nav-link fw-bold" href="/login">Log In</a>
    <% } else { %>
      <a class="nav-link fw-bold" href="/logout">Log Out</a>
    <% } %>
  </div>

</nav>

<!-- MOBILE NAV -->
<nav class="navbar nav-mobile">
  <a href="/listings" class="navbar-brand fw-bold">
    <i class="fa-solid fa-compass text-danger fs-4 me-2"></i> Explore
  </a>

  <button id="toggleMenu" class="btn border-0">
    <i class="fa-solid fa-bars fs-3"></i>
  </button>
</nav>

<!-- MOBILE SEARCH -->
<div class="mobile-search">
  <form action="/search">
    <input class="form-control search-input" name="q" placeholder="Search Destination">
  </form>
</div>

<!-- MOBILE MENU -->
<div id="mobileMenu" style="display:none; padding:15px;">
  <ul class="list-unstyled text-center">
    <li><a class="nav-link fw-bold" href="/listings/new">Airbnb your home</a></li>

    <% if (!currUser) { %>
      <li><a class="nav-link fw-bold" href="/signup">Sign Up</a></li>
      <li><a class="nav-link fw-bold" href="/login">Log In</a></li>
    <% } else { %>
      <li><a class="nav-link fw-bold" href="/logout">Log Out</a></li>
    <% } %>
  </ul>
</div>

<script>
  toggleMenu.onclick = () => {
    const m = mobileMenu;
    m.style.display = (m.style.display === "block") ? "none" : "block";
  };
</script>
